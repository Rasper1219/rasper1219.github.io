---
import Base from "../layouts/BaseLayout.astro";
import ResumeDownloadButton from "../components/ResumeDownloadButton";
import { SITE } from "../data/siteConfig";

const resumePath = SITE.base + "resume.pdf";
const projectsHref = SITE.base + "projects/";
const papersHref = SITE.base + "paper/";

const featProject = {
  title: "Crimson White Preservation Pipeline",
  img: SITE.base + "images/projects/cw-pipeline.jpg", // optional thumbnail
  desc:
    "Python pipeline that digitizes 149 historical issues (1910–1914), runs OCR, and auto-generates preservation metadata with embeddings + FAISS — making hard-to-find content searchable.",
  href: projectsHref,
};

const featPaper = {
  title: "Phishing Detection with NLP",
  img: SITE.base + "images/papers/phishing.jpg", // optional thumbnail
  desc:
    "SVM + TF-IDF (1–2) on 82.5k emails, reaching 99.19% accuracy and a 38.17% error-rate reduction vs. the next best setup.",
  href: papersHref,
};
---

<Base title="Home">
  <!-- Hero -->
  <section class="card mt-8">
    <h1 class="text-4xl md:text-5xl font-bold tracking-tight">Conscientious and Passionate</h1>
    <p class="mt-4 text-[var(--muted)] max-w-prose">
      I am a current Masters student graduating in December 2025. I love building things and working with numbers and data. I am looking to enter either the Software, Data Science, or ML/AI field
    </p>
    <div class="mt-6 flex flex-wrap items-center gap-3">
      <ResumeDownloadButton client:load href={resumePath} filename="Ryan_Adolfs_Resume.pdf" />
      <a class="btn" href={projectsHref}>View Projects</a>
      <a class="btn" href={papersHref}>View Papers</a>
      <a class="btn" href={SITE.base + "contact/"}>Contact</a>
    </div>
  </section>

  <!-- Featured cards -->
  <section class="mt-10 grid md:grid-cols-2 gap-6">
    <!-- Featured Project (clickable card) -->
    <a href={featProject.href} class="group block card p-0 overflow-hidden hover:shadow-lg transition">
      {featProject.img && (
        <img
          src={featProject.img}
          alt="Thumbnail for the Crimson White Preservation Pipeline"
          loading="lazy"
          decoding="async"
          class="w-full h-48 md:h-56 object-cover"
        />
      )}
      <div class="p-6">
        <h2 class="text-xl font-semibold flex items-center justify-between">
          {featProject.title}
          <span aria-hidden="true" class="ml-2 group-hover:translate-x-1 transition">→</span>
        </h2>
        <p class="mt-2 text-[var(--muted)]">
          {featProject.desc}
        </p>
        <p class="mt-3 text-sm underline decoration-accent underline-offset-2">See all projects</p>
      </div>
    </a>

    <!-- Featured Paper (clickable card) -->
    <a href={featPaper.href} class="group block card p-0 overflow-hidden hover:shadow-lg transition">
      {featPaper.img && (
        <img
          src={featPaper.img}
          alt="Thumbnail for the Phishing Detection paper"
          loading="lazy"
          decoding="async"
          class="w-full h-48 md:h-56 object-cover"
        />
      )}
      <div class="p-6">
        <h2 class="text-xl font-semibold flex items-center justify-between">
          {featPaper.title}
          <span aria-hidden="true" class="ml-2 group-hover:translate-x-1 transition">→</span>
        </h2>
        <p class="mt-2 text-[var(--muted)]">
          {featPaper.desc}
        </p>
        <p class="mt-3 text-sm underline decoration-accent underline-offset-2">See both papers</p>
      </div>
    </a>
  </section>
</Base>
